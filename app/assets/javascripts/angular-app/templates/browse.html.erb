<md-toolbar class="md-tall md-toolbar">
	<div class="md-toolbar-tools">
		<md-button class="md-icon-button" aria-label="Menu">
			<md-icon md-svg-icon="assets/svg/md-case.svg"></md-icon>
			<span class="md-title">Taskey</span>
		</md-button>

		<md-input-container class="md-search" flex layout="row" md-no-float>
				<span flex="10"></span>
				<input type="text" ng-model="searchTask" flex="80" flex-order="1">
				<md-icon class="md-fab md-search-icon" md-svg-src="assets/svg/md-search.svg" flex-order="2"></md-icon>
		</md-input-container>

		<span flex></span>
		<span class="md-nocase">
			{{user.email}}
		</span>

		<md-button aria-label="Open Settings" ng-click="showBottomSheet($event)">
			<ng-md-icon icon="more_vert" class="md-vert-icon"></ng-md-icon>
		</md-button>
	</div>
</md-toolbar>


<md-button class="md-fab md-add" aria-label="Add" ng-show="user.signedIn" ng-click="showModal($event)">
	<ng-md-icon class="add-icon" icon="add"></ng-md-icon>
</md-button>


<md-content class="md-tasks-content" layout="column" flex layout-fill layout-padding>
	
	<md-tabs class="md-tasks-tabs">
		<md-tab id="tab1">
			<md-tab-label>all tasks</md-tab-label>
			<md-tab-body layout="row">

				<md-whiteframe class="md-whiteframe-z1 md-task-list" flex="35">

					<md-item class="item"	ng-repeat="task in tasks
																| filter:searchTask
																| orderBy:updatedAt">

						<md-item-content class="user tile" layout="column">

							<div layout="row" layout-fill ng-click="getTask(task)">
								<div class="md-tile-left">
									<img ng-src="assets/avatar.jpeg" class="md-face">
								</div>

								<div class="md-tile-content" layout="column" layout-align="center start">
									<h3>{{task.title | limitTo:25}}{{task.title.length > 25? "..." : ""}}</h3>
									<span am-time-ago="task.created_at" class="time-ago"></span>
								</div>

								<div class="md-tile-right md-pricing">
									<span>{{task.total | currency:"$":0}}</span>
									<div class="md-list-status">
										<span class="{{task.status}}">{{task.status}}</span>
									</div>
								</div>
							</div>

						</md-item-content>
						<md-divider md-inset ng-if="!$last"></md-divider>
					</md-item>
				</md-whiteframe>


				<!-- task details -->
				<md-whiteframe class="md-whiteframe-z1 md-task-details" flex="40" layout="column">
					<div ng-hide="currentTask">
						<h3>Click on a task to view its details</h3>
					</div>

					<div ng-show="currentTask" class="md-header" layout="row">
						<div flex="75" class="md-title-details">
							<h3>{{currentTask.title}}</h3>
							<span>posted by {{currentTask.poster}}</span>
							<span am-time-ago="currentTask.created_at"></span>
						</div>

						<div flex="25" class="md-details-tags" layout="column">
							<div class="md-details-pricing">
								<span>{{currentTask.total | currency:"$":0}}</span>	
							</div>
							
							<div ng-show="isCreator" >
								<md-select class="md-details-status md-whiteframe-z1" ng-model="currentTask.status">
									<md-option value="open">Open</md-option>
									<md-option value="closed" ng-click="cancelTask(currentTask.id)">Close</md-option>
								</md-select>
							</div>

						</div>
					</div>

					<div ng-show="currentTask" class="md-description" layout="row">
						<div flex>
							<md-card class="md-whiteframe-z1">
								<md-card-content>
									<span class="md-description-content">{{currentTask.description}}</span>
								</md-card-content>
							</md-card>
						</div>
					</div>

				</md-whiteframe>
			</md-tab-body>
			
			<div layout="row">
				<span class="dummy-text" flex="5"></span>	
			</div>
			
		</md-tab>
	
		<md-tab id="tab2">
			<md-tab-label>open tasks</md-tab-label>
			<md-tab-body layout="row">

				<md-whiteframe class="md-whiteframe-z1 md-task-list" flex="35">

					<md-item class="item"	ng-repeat="task in tasks
																| filter:{status:'open'}
																| filter:searchTask
																| orderBy:updatedAt">

						<md-item-content class="user tile" layout="column">

							<div layout="row" layout-fill ng-click="getTask(task)">
								<div class="md-tile-left">
									<img ng-src="assets/avatar.jpeg" class="md-face">
								</div>

								<div class="md-tile-content" layout="column" layout-align="center start">
									<h3>{{task.title | limitTo:25}}{{task.title.length > 25? "..." : ""}}</h3>
									<span am-time-ago="task.created_at" class="time-ago"></span>
								</div>

								<div class="md-tile-right md-pricing">
									<span>{{task.total | currency:"$":0}}</span>
									<div class="md-list-status">
										<span class="{{task.status}}">{{task.status}}</span>
									</div>
								</div>
							</div>

						</md-item-content>
						<md-divider md-inset ng-if="!$last"></md-divider>
					</md-item>
				</md-whiteframe>


				<!-- task details -->
				<md-whiteframe class="md-whiteframe-z1 md-task-details" flex="40" layout="column">
					<div ng-hide="currentTask">
						<h3>Click on a task to view its details</h3>
					</div>

					<div ng-show="currentTask" class="md-header" layout="row">
						<div flex="75" class="md-title-details">
							<h3>{{currentTask.title}}</h3>
							<span>posted by {{currentTask.poster}}</span>
							<span am-time-ago="currentTask.created_at"></span>
						</div>

						<div flex="25" class="md-details-tags" layout="column">
							<div class="md-details-pricing">
								<span>{{currentTask.total | currency:"$":0}}</span>	
							</div>
							
							<div ng-show="isCreator" >
								<md-select class="md-details-status md-whiteframe-z1" ng-model="currentTask.status">
									<md-option value="open">Open</md-option>
									<md-option value="closed" ng-click="cancelTask(currentTask.id)">Close</md-option>
								</md-select>
							</div>

						</div>
					</div>

					<div ng-show="currentTask" class="md-description" layout="row">
						<div flex>
							<md-card class="md-whiteframe-z1">
								<md-card-content>
									<span class="md-description-content">{{currentTask.description}}</span>
								</md-card-content>
							</md-card>
						</div>
					</div>

				</md-whiteframe>

			</md-tab-body>

			<div layout="row">
				<span class="dummy-text" flex="5"></span>	
			</div>

		</md-tab>

		<md-tab id="tab3">
			<md-tab-label>closed tasks</md-tab-label>
			<md-tab-body layout="row">

				<md-whiteframe class="md-whiteframe-z1 md-task-list" flex="35">

					<md-item class="item"	ng-repeat="task in tasks
																| filter:{status:'closed'}
																| filter:searchTask
																| orderBy:updatedAt">

						<md-item-content class="user tile" layout="column">

							<div layout="row" layout-fill ng-click="getTask(task)">
								<div class="md-tile-left">
									<img ng-src="assets/avatar.jpeg" class="md-face">
								</div>

								<div class="md-tile-content" layout="column" layout-align="center start">
									<h3>{{task.title | limitTo:25}}{{task.title.length > 25? "..." : ""}}</h3>
									<span am-time-ago="task.created_at" class="time-ago"></span>
								</div>

								<div class="md-tile-right md-pricing">
									<span>{{task.total | currency:"$":0}}</span>
									<div class="md-list-status">
										<span class="{{task.status}}">{{task.status}}</span>
									</div>
								</div>
							</div>

						</md-item-content>
						<md-divider md-inset ng-if="!$last"></md-divider>
					</md-item>
				</md-whiteframe>


				<!-- task details -->
				<md-whiteframe class="md-whiteframe-z1 md-task-details" flex="40" layout="column">
					<div ng-hide="currentTask">
						<h3>Click on a task to view its details</h3>
					</div>

					<div ng-show="currentTask" class="md-header" layout="row">
						<div flex="75" class="md-title-details">
							<h3>{{currentTask.title}}</h3>
							<span>posted by {{currentTask.poster}}</span>
							<span am-time-ago="currentTask.created_at"></span>
						</div>

						<div flex="25" class="md-details-tags" layout="column">
							<div class="md-details-pricing">
								<span>{{currentTask.total | currency:"$":0}}</span>	
							</div>
							
							<div ng-show="isCreator" >
								<md-select class="md-details-status md-whiteframe-z1" ng-model="currentTask.status">
									<md-option value="open">Open</md-option>
									<md-option value="closed" ng-click="cancelTask(currentTask.id)">Close</md-option>
								</md-select>
							</div>

						</div>
					</div>

					<div ng-show="currentTask" class="md-description" layout="row">
						<div flex>
							<md-card class="md-whiteframe-z1">
								<md-card-content>
									<span class="md-description-content">{{currentTask.description}}</span>
								</md-card-content>
							</md-card>
						</div>
					</div>

				</md-whiteframe>
			</md-tab-body>

			<div layout="row">
				<span class="dummy-text" flex="5"></span>	
			</div>

		</md-tab>

		<md-tab id="tab4" ng-show="user.signedIn">
			<md-tab-label>my tasks</md-tab-label>
			<md-tab-body layout="row">

				<md-whiteframe class="md-whiteframe-z1 md-task-list" flex="35">

					<md-item class="item"	ng-repeat="task in tasks
																| filter:{poster:user.email}
																| filter:searchTask
																| orderBy:updatedAt">

						<md-item-content class="user tile" layout="column">

							<div layout="row" layout-fill ng-click="getTask(task)">
								<div class="md-tile-left">
									<img ng-src="assets/avatar.jpeg" class="md-face">
								</div>

								<div class="md-tile-content" layout="column" layout-align="center start">
									<h3>{{task.title | limitTo:25}}{{task.title.length > 25? "..." : ""}}</h3>
									<span am-time-ago="task.created_at" class="time-ago"></span>
								</div>

								<div class="md-tile-right md-pricing">
									<span>{{task.total | currency:"$":0}}</span>
									<div class="md-list-status">
										<span class="{{task.status}}">{{task.status}}</span>
									</div>
								</div>
							</div>

						</md-item-content>
						<md-divider md-inset ng-if="!$last"></md-divider>
					</md-item>
				</md-whiteframe>


				<!-- task details -->
				<md-whiteframe class="md-whiteframe-z1 md-task-details" flex="40" layout="column">
					<div ng-hide="currentTask">
						<h3>Click on a task to view its details</h3>
					</div>

					<div ng-show="currentTask" class="md-header" layout="row">
						<div flex="75" class="md-title-details">
							<h3>{{currentTask.title}}</h3>
							<span>posted by {{currentTask.poster}}</span>
							<span am-time-ago="currentTask.created_at"></span>
						</div>

						<div flex="25" class="md-details-tags" layout="column">
							<div class="md-details-pricing">
								<span>{{currentTask.total | currency:"$":0}}</span>	
							</div>
							
							<div ng-show="isCreator" >
								<md-select class="md-details-status md-whiteframe-z1" ng-model="currentTask.status">
									<md-option value="open">Open</md-option>
									<md-option value="closed" ng-click="cancelTask(currentTask.id)">Close</md-option>
								</md-select>
							</div>

						</div>
					</div>

					<div ng-show="currentTask" class="md-description" layout="row">
						<div flex>
							<md-card class="md-whiteframe-z1">
								<md-card-content>
									<span class="md-description-content">{{currentTask.description}}</span>
								</md-card-content>
							</md-card>
						</div>
					</div>
				</md-whiteframe>
			</md-tab-body>

			<div layout="row">
				<span class="dummy-text" flex="5"></span>	
			</div>

		</md-tab>
	</md-tabs>

</md-content>